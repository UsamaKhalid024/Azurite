var ff_AddAnotherSectionLink="+ add another",ff_RemoveSectionLink="- remove",ff_SectionRepeatMinCount=1,ff_SectionRepeatMaxCount=100,ffErr_SignatureFullNameTyped="Please enter your first and last name in the provided field.",ffErr_SignatureInitialsTyped="Please enter your initials in the provided field.",ffErr_SignatureFullNameDrawn="Please sign your first and last name in the provided field.",ffErr_SignatureInitialsDrawn="Please sign your initials in the provided field.",ffErr_SignatureDateTyped="Please select today's date in the provided field.",ffErr_SignatureDateDrawn="Please sign today's date in the provided field.",ffErr_SignatureAcceptTerms="You must accept the provided terms before continuing.",ffErr_SignatureValidEmail="Please provide a valid email address.";function initializeFormValues(){console.log("initializeFormValues()"+$("#submittedData").val());var e=$("#submittedData").val();if(void 0!==e&&""!=e)for(var t=JSON.parse(e),a=0,i=Object.keys(t),r=i.length;a<r;a++){var n=i[a];if(0==(m=n.replace(/\./g,"\\.")).indexOf("ESIGNsignD")){if(console.log(" Esignature found- fieldId:"+m+" fieldval:"+t[n]),0==m.indexOf("ESIGNsignDoutputSignedName")||0==m.indexOf("ESIGNsignDffSignedName")){var f=m.replace("ESIGNsignDoutputSignedName","inputESIGNATURE");f=m.replace("ESIGNsignDffSignedName","inputESIGNATURE"),$("#dvFastForms #"+f).attr("data-currenttab","drawn")}var d=m.replace("ESIGNsignDoutputSigned","signDffSigned");0==m.indexOf("ESIGNsignDffSigned")&&(d=m.replace("ESIGN",""));var s=instanceURL+"/servlet/servlet.ImageServer?id="+t[n]+"&oid="+salesforceOrgId;$("#dvFastForms #"+d).parent().prepend($("<img/>",{src:s,class:"img-esign"}))}else if($("#dvFastForms").find("#"+m).length>0)setFFFieldValue(m,t[n]);else{var l=n.split(".");if(4===l.length||1===l.length)if(1===l.length){if($("#dvFastForms").find("#"+m).length>0)setFFFieldValue(m,t[n]);else if((u=safeInt(m.split("__")[1],-1))>1){var o=m.split("__")[0]+"__1";if($("#dvFastForms").find("#"+o).length>0){for(var p=2;p<=u;p++)$("#dvFastForms").find("#"+o).parents(".ff-sec-repeat-wrapper").find(".ff-add").click();var c=u,g=m.split("__")[0]+"__"+c;$("#dvFastForms").find("#"+g).length>0&&setFFFieldValue(g,t[n])}}}else if(l[2].length>=4&&l[2].split("_").length>=2){var m=(l[0]+"."+l[1]+"."+l[2].split("_")[0]+"_"+l[2].split("_")[1]+"_."+l[3]).replace(/\./g,"\\.");if($("#dvFastForms").find("#"+m).length>0)setFFFieldValue(m,t[n]);else{var u=safeInt(l[2].split("_")[1],-1);if(console.log(" RepeatIndex: "+u),u>1){o=(l[0]+"."+l[1]+"."+l[2].split("_")[0]+"_1_."+l[3]).replace(/\./g,"\\.");if($("#dvFastForms").find("#"+o).length>0){for(p=2;p<=u;p++)$("#dvFastForms").find("#"+o).parents(".ff-sec-repeat-wrapper").find(".ff-add").click();c=u,g=(l[0]+"."+l[1]+"."+l[2].split("_")[0]+"_"+c+"_."+l[3]).replace(/\./g,"\\.");$("#dvFastForms").find("#"+g).length>0&&setFFFieldValue(g,t[n])}}}}}}}function setFFFieldValue(e,t){var a=[],i=decodeURIComponent(t);try{var r=$("#dvFastForms").find("#"+e)[0].type;if("select-multiple"==r)!0,a=i.split(";"),$("#dvFastForms").find("#"+e).val(a);else if("checkbox"==r)console.log("Boolean:"+i),getSafeBoolean(i,!1)&&$("#dvFastForms").find("#"+e).prop("checked",i);else{$("#dvFastForms").find("#"+e).val(i);var n=$("#dvFastForms").find("#"+e).attr("vatt");isNullOrEmpty(n)||"REFERENCE"!=n||$("#dvFastForms").find("#"+e).next().val(i)}}catch(e){console.log("FORM [setFFFieldValue] ERROR:"+e)}}function InitializeBreadcrumbs(){var e=$("#dvFastForms #breadcrumbEnabled");if(void 0!==$(e).val()&&""!=$(e).val()&&"true"==$(e).val().toLowerCase()){var t=0,a=$("<div />").addClass("ff-page-bread-header"),i=$("<div />").addClass("ff-page-bread-wrapper"),r=$("<div />").addClass("ff-page-bread"),n=$("<div>></div>").addClass("ff-page-bread-next ff-page-bread-item").attr("onclick","FFMoveBreadcrumbRight();"),f=$("<div><</div>").addClass("ff-page-bread-prev ff-page-bread-item").attr("onclick","FFMoveBreadcrumbLeft();");$(f).css("visibility","hidden"),$(r).appendTo(i),$(i).appendTo(a),$("#dvFastForms .ff-form-main").prepend(a),$(i).before(f),$(i).after(n);$("#dvFastForms .ff-page-row[page-ishidden!=true]").each(function(){var e="FFSetPage("+t+");",a=$("#dvFastForms #breadcrumbPrefix").val();if(""==a)var i=("true"==$("#dvFastForms #breadcrumbNumbered").val().toLowerCase()?t+1+". ":"")+$(this).data("pagetitle");else i=(""==a?"":a+" ")+("true"==$("#dvFastForms #breadcrumbNumbered").val().toLowerCase()?t+1+": ":"")+$(this).data("pagetitle");var n=$("<div data-pageid='"+$(this).attr("id")+"'/>").html(i).addClass("ff-page-bread-item").attr("onclick",e);0==t&&$(n).addClass("item-selected"),$(n).appendTo(r),t++})}}function InitializePages(){var e=$("#dvFastForms #multipageEnabled");if(void 0!==$(e).val()&&""!=$(e).val()&&"true"==$(e).val().toLowerCase()){$("#dvFastForms .ff-page-row[page-ishidden!=true]:first");$("#dvFastForms .ff-page-row[page-ishidden!=true]:not(:first)").hide(),$("#dvFastForms .ff-page-row[page-ishidden=true]").hide();var t=$('<input type="button" class="sectionHeader ff-btn-submit ff-btn-prev" id="btnprev" onclick="FFPrevPage();">'),a=$('<input type="button" class="sectionHeader ff-btn-submit ff-btn-next" id="btnnext" onclick="FFNextPage();">');$(t).val($("#dvFastForms #prevBtnText").val()),$(a).val($("#dvFastForms #nextBtnText").val()),$("#dvFastForms .btnDiv").append(t),$("#dvFastForms .btnDiv").append(a),$("#dvFastForms #btnprev").hide(),$("#dvFastForms #btnnext").hide(),$("#dvFastForms .ff-page-row[page-ishidden!=true]").length>1&&($("#dvFastForms #btnsubmit").hide(),$("#dvFastForms #btnnext").show())}else $("#dvFastForms .ff-page-bread-header").remove(),$("#dvFastForms .ff-page-header-row").remove()}function InitializeFooter(){if(!$("#dvFastForms #btnsubmit").length){var e=$('<div class="ff-footer-group"></div>'),t=$('<div class="ff-item-row ff-footer-row"></div>'),a=$('<div class="ff-submit-btn">'),i=$('<div class="footnoteDiv"></div>'),r=$('<span class="requiredSpan  ff-footnote ff-required-mark">*</span>'),n=$('<label class="ff-footnote-label ff-label">- required</label>'),f=$('<div class="btnDiv">'),d=$('<input type="button" class="sectionHeader ff-btn-submit" id="btnsubmit" onclick="SubmitData();">');$(d).attr("value",$("#dvFastForms #submitBtnText").val()),$(d).attr("btnmessage",$("#dvFastForms #submitMessage").val()),$(d).attr("btnurl",$("#dvFastForms #submitUrl").val()),$(f).append(d);var s=$("#dvFastForms #saveForLaterEnabled");if(void 0!==$(s).val()&&""!=$(s).val()&&"true"==$(s).val().toLowerCase()){var l=$('<input type="button" class="sectionHeader ff-btn-submit" id="btndiscard" onclick="DiscardDraft();">');$(l).attr("value",$("#dvFastForms #discardBtnText").val()),$(f).prepend(l),"true"!=$("#dvFastForms #isDraft").val().toLowerCase()&&$(l).hide();var o=$('<input type="button" class="sectionHeader ff-btn-submit" id="btnsave" onclick="SubmitData(true);">');$(o).attr("value",$("#dvFastForms #saveBtnText").val()),$(f).prepend(o)}$(i).append(r),$(i).append(n),$(a).append(i),$(a).append(f),$(t).append(a),$(e).append(t),$("#dvFastForms .ff-form-main").append(e)}}function InitializeSignature(){$("#dvFastForms .ff-esignature-wrapper").each(function(){var e=getAttributeNameIfExists($(this).find(".ffd-esignature-input"),"data-signtype","full"),t=getAttributeNameIfExists($(this).find(".ffd-esignature-input"),"data-signoptions","typed"),a=getAttributeNameIfExists($(this).find(".ffd-esignature-input"),"data-currenttab","typed"),i=getAttributeNameIfExists($(this).find(".ffd-esignature-input"),"data-signlabel","Full Name"),r=getAttributeNameIfExists($(this).find(".ffd-esignature-input"),"data-signdate","Date"),n=getAttributeNameIfExists($(this).find(".ffd-esignature-input"),"data-signdatehide","false"),f=getAttributeNameIfExists($(this).find(".ffd-esignature-input"),"data-signagreehide","true"),d=getAttributeNameIfExists($(this).find(".ffd-esignature-input"),"data-signagree","I agree to terms and services"),s=(getAttributeNameIfExists($(this).find(".ffd-esignature-input"),"data-emaillabel","Email"),getAttributeNameIfExists($(this).find(".ffd-esignature-input"),"data-emailenabled","false"));1==s||"true"==s?($(this).find(".ff-email-verification > input").attr("data-isrequired",!0),$(this).find(".ff-email-verification").slideDown(),$(this).find(".ff-email-verification .ffsign-label").append('<span class="ff-required-mark">*</span>')):($(this).find(".ff-email-verification").slideUp(),$(this).find(".ff-email-verification").hide(),$(this).find(".ff-email-verification > input").attr("data-isrequired",!1));var l={name:".ffsignature",penColour:"#000",drawOnly:!1,typed:".typedSignName",output:".outputSignedName",drawIt:".ffdrawIt a",sig:"docsignWrapper",clear:".ffclearButton a",canvas:".signPadName",onBeforeValidate:"validateDocSign",errorMessage:"full"==e?ffErr_SignatureFullNameTyped:ffErr_SignatureInitialsTyped,errorMessageDraw:"full"==e?ffErr_SignatureFullNameDrawn:ffErr_SignatureInitialsDrawn,errorClass:"ff-col-1 ff-error ff-signature-error ff-invalid-msg",validateFields:!1},o={name:".ffdate",penColour:"#000",drawOnly:!1,typed:".typedSignDate",output:".outputSignedDate",drawIt:".ffdrawIt a",sig:"docsignWrapper",clear:".ffclearButton a",canvas:".signPadDate",onBeforeValidate:"validateDocSign",errorMessage:ffErr_SignatureDateTyped,errorMessageDraw:ffErr_SignatureDateDrawn,errorClass:"ff-col-1 ff-error ff-signature-error ff-invalid-msg",validateFields:!1};$(this).find(".ff-signwrapper.ff-typed .doc-sign-name").signaturePad(l),$(this).find(".ff-signwrapper.ff-typed .doc-sign-date").signaturePad(o);l.drawOnly=!0;$(this).find(".ff-signwrapper.ff-drawn .doc-sign-name").signaturePad(l);o.drawOnly=!0;$(this).find(".ff-signwrapper.ff-drawn .doc-sign-date").signaturePad(o);$(this).find(".ff-chkagree > label").html(d),$(this).find(".ff-signwrapper").each(function(e,t){$(t).find(".doc-sign-name .ffsign-label>label").html(i),$(t).find(".doc-sign-date .ffsign-label>label").html(r),1==n||"true"==n?($(t).find('.doc-sign-date input[type="hidden"]').attr("data-isrequired",!1),$(t).find(".doc-sign-date").hide()):($(t).find('.doc-sign-date input[type="hidden"]').attr("data-isrequired",!0),$(t).find(".doc-sign-date").show())}),$(this).find(".main-docsign-wrapper").removeClass("ffs-typed"),$(this).find(".main-docsign-wrapper").removeClass("ffs-both"),$(this).find(".main-docsign-wrapper").removeClass("ffs-drawn"),$(this).find(".main-docsign-wrapper").addClass("ffs-"+t),$(this).find(".main-docsign-wrapper").removeClass("ffs-full"),$(this).find(".main-docsign-wrapper").removeClass("ffs-initials"),$(this).find(".main-docsign-wrapper").addClass("ffs-"+e),switchSignTab("drawn"==t?$(this).find(".main-docsign-wrapper").find("li.ffdrawIt>a"):$(this).find(".main-docsign-wrapper").find("li.fftypeIt>a")),1==f||"true"==f?($(this).find(".ff-chkagree > input").attr("data-isrequired",!1),$(this).find(".ff-chkagree").hide()):($(this).find(".ff-chkagree").show(),$(this).find(".ff-chkagree > input").prop("checked",!0),$(this).find(".ff-chkagree > input").attr("data-isrequired",!0)),"both"==t&&"drawn"==a&&switchSignTab($(this).find(".main-docsign-wrapper").find("li.ffdrawIt>a"));var p=0;$('#dvFastForms input[name="ffdate"]').each(function(){$(this).attr("name","ffdate"+p),p++}),p=0,$('#dvFastForms input[name="ffsignature"]').each(function(){$(this).attr("name","ffsignature"+p),p++})}),$(".ff-typed .ff-type-text").blur()}function switchSignTab(e){$(e).parents(".main-docsign-wrapper").find(".ff-sign-ul li a").removeClass("current"),$(e).addClass("current"),$(e).parents(".main-docsign-wrapper").find(".ff-signwrapper").addClass("display-none"),"drawn"==$(e).attr("data-signed")?($(e).parents(".main-docsign-wrapper").find(".ff-signwrapper.ff-drawn").removeClass("display-none"),$(e).parents(".main-docsign-wrapper").find(".ff-sign-div .ffclearButton").css("visibility","visible")):($(e).parents(".main-docsign-wrapper").find(".ff-signwrapper.ff-typed").removeClass("display-none"),$(e).parents(".main-docsign-wrapper").find(".ff-sign-div .ffclearButton").css("visibility","hidden"))}function getAttributeNameIfExists(e,t,a){var i=a;return isNullOrEmpty($(e).attr(t))||(i=$(e).attr(t)),i}function isNullOrEmpty(e){return void 0===e||null===e||""==e}function resetFlexInputForFormElementsDraft(){$('#dvFastForms .ff-col-2 input[type="textbox"]').each(function(e,t){var a=$(t).attr("data-flexcontrol");if(void 0!==a&&!1!==a&&""!=a)switch(a){case"integer-starrating":var i=$(t).attr("data-flex-max"),r=$(t).attr("data-flex-minlabel"),n=$(t).attr("data-flex-maxlabel");setRatingInput($(t),i,r,"",n,a);break;case"integer-npsrating":r=$(t).attr("data-flex-minlabel"),n=$(t).attr("data-flex-maxlabel");var f=$(t).attr("data-flex-middlelabel");setRatingInput($(t),"",r,f,n,a);break;case"integer-matrixlikert":console.log("[start] integer-matrix"),$(t).ffmatrix("create",{isBuilder:!1,isLoading:!0});break;default:setRatingInput($(t),"","","","",a)}})}function resetSelect2ForFormElementsDraft(){$("#dvFastForms .ff-col-2>select").each(function(e,t){var a=$(t).attr("data-flexcontrol");if(void 0!==a&&!1!==a&&""!=a)switch(a){case"picklist-default":break;case"picklist-combobox":case"multipicklist-multi-tags":$(t).select2(),console.log("combo select or simple multi select2");break;case"multipicklist-multi-tags-check":$(t).select2({closeOnSelect:!1,dropdownCssClass:"ff-multi-checkbox"});break;case"picklist-radiobutton-vertical":case"picklist-radiobutton-horizontal":case"multipicklist-checkbox-horizontal":case"multipicklist-checkbox-vertical":reinitializeSelectToRadioElementDraft($(t).parent(),!1,!1)}})}function setRatingInput(e,t,a,i,r,n){switch(n){case"integer-starrating":""==t&&(t=5,$("#noOfStars").val("5")),$(e).ffrating("destroy"),$(e).attr("data-flexcontrol",n),$(e).attr("data-flex-min",1),$(e).attr("data-flex-max",t),$(e).attr("data-flex-minlabel",a),$(e).attr("data-flex-maxlabel",r),$(e).is("[readonly]")&&!0,$(e).ffrating("show",{readonly:!0,showSelectedRating:!0});break;case"integer-npsrating":$(e).ffrating("destroy"),$(e).attr("data-flexcontrol",n),$(e).attr("data-flex-min",0),$(e).attr("data-flex-middle",5),$(e).attr("data-flex-max",10),$(e).attr("data-flex-minlabel",a),$(e).attr("data-flex-middlelabel",i),$(e).attr("data-flex-maxlabel",r),$(e).is("[readonly]")&&!0,$(e).ffrating("show",{readonly:!0,isStar:!1});break;default:$(e).ffrating("destroy"),$(e).hasClass("custom-flexcontrol-offscreen")&&$(e).removeClass("custom-flexcontrol-offscreen")}}function reinitializeSelectToRadioElementDraft(e,t,a){var i="",r="",n="";$(e).find("select:first").SelectToRadio("destroy"),$(e).find("div.custom-flex-control-container").remove(),$(e).find("select:first").removeClass("custom-select-offscreen"),a||(n=(i=$(e).find("select:first").attr("data-flexcontrol")).indexOf("multipicklist-")>=0?i.replace("multipicklist-checkbox-",""):i.replace("picklist-radiobutton-",""),r=i.indexOf("multipicklist-")>=0?"ff-ext-checkbox":"ff-ext-radio",$(e).find("select:first").SelectToRadio({controlType:r,alignment:n,readonly:t}),$(e).find("select:first").attr("data-flexcontrol",i))}function initializeCaptcha(){$("#dvFastForms").find(".ff-col-2.ff-captcha").length>0&&$("#dvFastForms").find(".ff-col-2.ff-captcha").append($("<img/>",{src:ffengineResourceBaseURL+"/styles/images/reCaptcha.png"}))}function InitializeRepeatableSections(){window.DataMatrixArrayMap=$.FFMatrixHelper.getUniqueDataMatrixArrayMap(),$("#dvFastForms .ff-sec-repeat-wrapper").each(function(e,t){var a=$(t).parent();SetRepeatableSectionIDs(t,1),ResetRepeatedSectionItem(t,!0);for(var i=safeInt($(a).data("min"),ff_SectionRepeatMinCount),r=1;r<=i;r++)r>1&&$(a).find(".ff-sec-repeat-wrapper").last().find("a.ff-add").click(),$(a).find(".ff-sec-repeat-wrapper").last().find("a.ff-remove,.link-divider").hide()})}function SetRepeatableSectionIDs(e,t){$(e).find('.ff-item-row  .ff-col-2>input,.ff-item-row  .ff-col-2>textarea,.ff-item-row  .ff-col-2>select,.ff-item-row  .ff-col-2>.lookup-link,.ff-item-row div[vatt="CAPTCHA"]').each(function(){var e,a=$(this).attr("id"),i=($(this).attr("name"),$(this).parent().parent().find("label[for='"+a+"']")),r=a.split(".");4==r.length?(r[2]=r[2][0]+"_"+t+"_",e=r.join(".")):e=(r=a.split("__"))[0]+"__"+t,$(this).attr("id",e),$(this).attr("name",e),$(i).attr("for",e),$(i).attr("id",$(i).attr("id")+"_"+t)}),$(e).find(".ff-esignature-wrapper").length>=1&&$(e).find(".ff-esignature-wrapper").each(function(e,a){assignSignatureElementIds(a,t),InitializeSignatureElement(a)});var a=$(e).parent(),i=ff_AddAnotherSectionLink,r=ff_RemoveSectionLink;isNullOrEmpty($(a).attr("data-addlink"))||(i=$(a).attr("data-addlink")),isNullOrEmpty($(a).attr("data-removelink"))||(r=$(a).attr("data-removelink")),$(e).find(".rsec-footer-row").remove(),$(e).append(getRepeatableSectionFooterHTML(i,r)),resetAddRemoveLinksForRepeatedSections(e,!1)}function resetAddRemoveLinksForRepeatedSections(e,t){t?($(e).find(".ff-sec-repeat-wrapper").find(".ff-add,.link-divider").hide(),$(e).find(".ff-sec-repeat-wrapper").length<safeInt($(e).data("max"),ff_SectionRepeatMaxCount)&&$(e).find(".ff-sec-repeat-wrapper:last-child").find(".ff-add,.link-divider").removeAttr("style")):($(e).parent().find(".ff-sec-repeat-wrapper").find(".ff-add,.link-divider").hide(),$(e).parent().find(".ff-sec-repeat-wrapper").length<safeInt($(e).parent().data("max"),ff_SectionRepeatMaxCount)&&$(e).parent().find(".ff-sec-repeat-wrapper:last-child").find(".ff-add,.link-divider").removeAttr("style"))}function AddToRepeatableSection(e){var t=$(e).parents(".ff-sec-repeat-wrapper"),a=safeInt($(t).parent().data("max"),ff_SectionRepeatMaxCount),i=$(t).parent().find(".ff-sec-repeat-wrapper").length;if(""==a||i<a){var r=$(t).parent().find(".ff-sec-repeat-wrapper").eq(i-1),n=$(r).clone().appendTo($(t).parent());$(n).find(".ff-esignature-wrapper").length>0&&(clearSignatureCanvas($(n).find(".ff-signwrapper.ff-drawn .doc-sign-date")),clearSignatureCanvas($(n).find(".ff-signwrapper.ff-drawn .doc-sign-date")),clearSignatureCanvas($(n).find(".ff-signwrapper.ff-typed .doc-sign-date")),clearSignatureCanvas($(n).find(".ff-signwrapper.ff-typed .doc-sign-date")),$(n).find(".docsignWrapper .typedSignName").html(""),$(n).find(".docsignWrapper .typedSignDate").html(""),$(n).find(".docsignWrapper .ffsignature").val(""),$(n).find(".docsignWrapper .ffdate").val("")),$.FFMatrixHelper.resetMatrixDataOnElements(n,window.DataMatrixArrayMap),SetRepeatableSectionIDs($(t).parent().find(".ff-sec-repeat-wrapper").last(),i+1),ResetRepeatedSectionItem($(t).parent().find(".ff-sec-repeat-wrapper").last(),!1)}}function clearSignatureCanvas(e){if(void 0!==e)try{$(e).signaturePad().clearCanvas()}catch(e){}}function RemoveFromRepeatableSection(e){var t=$(e).parents(".ff-sec-repeat-wrapper"),a=safeInt($(t).parent().data("min"),ff_SectionRepeatMinCount),i=$(t).parent().find(".ff-sec-repeat-wrapper").length,r=$(t).parent();if((""==a||i>a)&&i>1){var n=$(t).parent().find(".ff-sec-repeat-wrapper").eq(i-1);$(n).remove(),resetAddRemoveLinksForRepeatedSections(r,!0)}}function getRepeatableSectionFooterHTML(e,t){return'<div class="ff-item-row rsec-footer-row"><a class="ff-alink ff-remove" onclick="RemoveFromRepeatableSection(this);" href="javascript:" title="'+t+'">'+t+'</a><span class="link-divider">/</span><a class="ff-alink ff-add" onclick="AddToRepeatableSection(this);" href="javascript:" title="'+e+'">'+e+"</a></div>"}function safeInt(e,t){return isNaN(parseInt(e))?t:parseInt(e)}function getSafeBoolean(e,t){var a=t;try{void 0!==e&&("true"==(e+"").toLowerCase()?a=!0:"false"==(e+"").toLowerCase()&&(a=!1))}catch(e){console.log("[Error] unexpected! Method[getSafeBoolean] Ex[Below]"),console.log(e)}return a}function ResetRepeatedSectionItem(e,t){if($(e).find(".ff-item-row .ff-col-2>input,.ff-item-row .ff-col-2>textarea,.ff-item-row .ff-col-2>select").each(function(){switch("none"!=$(this).parent().parent().css("display")&&!0,$(this).prop("type")){case"file":break;case"text":case"textbox":case"textarea":$(this).parent().find(".custom-flex-control-container").remove(),$(this).parent().find(".select2-container").remove(),initFlexControl(this,!1);break;case"radio":case"checkbox":break;case"select-one":case"select-multiple":$(this).parent().find(".custom-flex-control-container").remove(),$(this).parent().find(".select2-container").remove(),initFlexControl(this,!1)}}),$(e).find("div[name=FileUploadLabel]").remove(),!t&&$(e).find("div[vatt='CAPTCHA']").length>=1){var a=$("#recaptchaSiteKey").val();$(e).find(".ff-captcha").each(function(e,t){$(t).find('div[vatt="CAPTCHA"]').find(">div").first().remove();var i=$(t).find('div[vatt="CAPTCHA"]').attr("id");grecaptcha.render(i,{sitekey:a,callback:verifyCallback})})}}function setSignatureElementIdWithIndx(e,t,a){if(!isNullOrEmpty($(e).attr("id"))){var i=$(e).attr("id").split("__")[0];i=i.replace(a,""),$(e).attr("id",a+i+"__"+t)}}function setSignatureElementNameWithIndx(e,t,a){if(!isNullOrEmpty($(e).attr("name"))){var i=$(e).attr("name").split("__")[0];i=i.replace(a,""),$(e).attr("name",a+i+"__"+t)}}function assignSignatureElementIds(e,t){setSignatureElementIdWithIndx($(e).find(".main-docsign-wrapper"),t,""),setSignatureElementIdWithIndx($(e).find(">input"),t,""),setSignatureElementIdWithIndx($(e).find(".main-docsign-wrapper .ff-chkagree input"),t,""),setSignatureElementIdWithIndx($(e).find(".main-docsign-wrapper .ff-email-verification .ff-col-2 .ff-type-text"),t,""),$(e).find(".ff-signwrapper").each(function(e,a){var i="signT";$(a).hasClass("ff-drawn")&&(i="signD"),setSignatureElementIdWithIndx($(a).find(".docsignWrapper .ffsignature"),t,i),setSignatureElementIdWithIndx($(a).find(".docsignWrapper .ffdate"),t,i),setSignatureElementIdWithIndx($(a).find(".docsignWrapper .outputSignedName"),t,i),setSignatureElementIdWithIndx($(a).find(".docsignWrapper .outputSignedDate"),t,i),setSignatureElementNameWithIndx($(a).find(".docsignWrapper .ffsignature"),t,i),setSignatureElementNameWithIndx($(a).find(".docsignWrapper .ffdate"),t,i),setSignatureElementNameWithIndx($(a).find(".docsignWrapper .outputSignedName"),t,i),setSignatureElementNameWithIndx($(a).find(".docsignWrapper .outputSignedDate"),t,i)})}function InitializeSignatureElement(e){var t=getAttributeNameIfExists($(e).find(".ffd-esignature-input"),"data-signtype","full"),a=getAttributeNameIfExists($(e).find(".ffd-esignature-input"),"data-signoptions","typed"),i=getAttributeNameIfExists($(e).find(".ffd-esignature-input"),"data-signlabel","Full Name"),r=getAttributeNameIfExists($(e).find(".ffd-esignature-input"),"data-signdate","Date"),n=getAttributeNameIfExists($(e).find(".ffd-esignature-input"),"data-signdatehide","false"),f=getAttributeNameIfExists($(e).find(".ffd-esignature-input"),"data-signagreehide","true"),d=getAttributeNameIfExists($(e).find(".ffd-esignature-input"),"data-signagree","I agree to terms and services"),s=getAttributeNameIfExists($(e).find(".ffd-esignature-input"),"data-emaillabel","Email"),l=getAttributeNameIfExists($(e).find(".ffd-esignature-input"),"data-emailenabled","false");1==l||"true"==l?($(e).find(".ff-email-verification input").attr("data-isrequired",!0),$(e).find(".ff-email-verification").slideDown(),$(e).find(".ff-email-verification .ffsign-label>label").html(s),$(e).find(".ff-email-verification .ffsign-label").append('<span class="ff-required-mark">*</span>')):($(e).find(".ff-email-verification").slideUp(),$(e).find(".ff-email-verification").hide(),$(e).find(".ff-email-verification input").attr("data-isrequired",!1));var o={name:".ffsignature",penColour:"#000",drawOnly:!1,lineWidth:2,typed:".typedSignName",output:".outputSignedName",drawIt:".ffdrawIt a",sig:"docsignWrapper",clear:".ffclearButton a",canvas:".signPadName",onBeforeValidate:"validateDocSign",errorMessage:"full"==t?ffErr_SignatureFullNameTyped:ffErr_SignatureInitialsTyped,errorMessageDraw:"full"==t?ffErr_SignatureFullNameDrawn:ffErr_SignatureInitialsDrawn,errorClass:"ff-col-1 ff-error ff-signature-error ff-invalid-msg",validateFields:!1},p={name:".ffdate",penColour:"#000",drawOnly:!1,lineWidth:2,typed:".typedSignDate",output:".outputSignedDate",drawIt:".ffdrawIt a",sig:"docsignWrapper",clear:".ffclearButton a",canvas:".signPadDate",onBeforeValidate:"validateDocSign",errorMessage:ffErr_SignatureDateTyped,errorMessageDraw:ffErr_SignatureDateDrawn,errorClass:"ff-col-1 ff-error ff-signature-error ff-invalid-msg",validateFields:!1};"initials"==t?($(e).find(".ff-signwrapper.ff-typed .doc-sign-name .ffsignature").attr("maxlength",6),$(e).find(".ff-signwrapper.ff-typed .doc-sign-name .docsignWrapper .signPadName").attr("width","120"),$(e).find(".ff-signwrapper.ff-drawn .doc-sign-name .docsignWrapper .signPadName").attr("width","120")):($(e).find(".ff-signwrapper.ff-typed .doc-sign-name .ffsignature").removeAttr("maxlength"),$(e).find(".ff-signwrapper.ff-typed .doc-sign-name .docsignWrapper .signPadName").attr("width","232"),$(e).find(".ff-signwrapper.ff-drawn .doc-sign-name .docsignWrapper .signPadName").attr("width","232"));$(e).find(".ff-signwrapper.ff-typed .doc-sign-name").signaturePad(o),$(e).find(".ff-signwrapper.ff-typed .doc-sign-date").signaturePad(p);o.drawOnly=!0;$(e).find(".ff-signwrapper.ff-drawn .doc-sign-name").signaturePad(o);p.drawOnly=!0;$(e).find(".ff-signwrapper.ff-drawn .doc-sign-date").signaturePad(p);$(e).find(".ff-chkagree > label").html(d),$(e).find(".ff-signwrapper").each(function(e,t){$(t).find(".doc-sign-name .ffsign-label>label").html(i),$(t).find(".doc-sign-date .ffsign-label>label").html(r),1==n||"true"==n?($(t).find('.doc-sign-date input[type="hidden"]').attr("data-isrequired",!1),$(t).find(".doc-sign-date").hide()):($(t).find('.doc-sign-date input[type="hidden"]').attr("data-isrequired",!0),$(t).find(".doc-sign-date").show())}),$(e).find(".main-docsign-wrapper").removeClass("ffs-typed"),$(e).find(".main-docsign-wrapper").removeClass("ffs-both"),$(e).find(".main-docsign-wrapper").removeClass("ffs-drawn"),$(e).find(".main-docsign-wrapper").addClass("ffs-"+a),$(e).find(".main-docsign-wrapper").removeClass("ffs-full"),$(e).find(".main-docsign-wrapper").removeClass("ffs-initials"),$(e).find(".main-docsign-wrapper").addClass("ffs-"+t),switchSignTab("drawn"==a?$(e).find(".main-docsign-wrapper").find("li.ffdrawIt>a"):$(e).find(".main-docsign-wrapper").find("li.fftypeIt>a")),1==f||"true"==f?($(e).find(".ff-chkagree > input").attr("data-isrequired",!1),$(e).find(".ff-chkagree").hide()):($(e).find(".ff-chkagree").show(),$(e).find(".ff-chkagree > input").attr("data-isrequired",!0))}function initFlexControl(e,t){switch($(e).data("flexcontrol")){case"picklist-combobox":try{$(e).select2("destroy"),0==$(e).prop("disabled")&&$(e).prop("disabled",t),$(e).select2()}catch(e){}break;case"picklist-radiobutton":break;case"picklist-radiobutton-vertical":$(e).SelectToRadio("destroy"),"disabled"==$(e).attr("disabled")||t?$(e).SelectToRadio({controlType:"ff-ext-radio",alignment:"vertical",readonly:!0}):$(e).SelectToRadio({controlType:"ff-ext-radio",alignment:"vertical"});break;case"picklist-radiobutton-horizontal":$(e).SelectToRadio("destroy"),$(e).removeClass("custom-select-offscreen"),$(e).prev().remove(),"disabled"==$(e).attr("disabled")||t?$(e).SelectToRadio({controlType:"ff-ext-radio",alignment:"horizontal",readonly:!0}):$(e).SelectToRadio({controlType:"ff-ext-radio",alignment:"horizontal"});break;case"multipicklist-multi-tags":try{$(e).select2("destroy"),0==$(e).prop("disabled")&&$(e).prop("disabled",t),$(e).select2()}catch(e){}break;case"multipicklist-multi-tags-check":try{$(e).select2("destroy"),0==$(e).prop("disabled")&&$(e).prop("disabled",t),$(e).select2({closeOnSelect:!1,dropdownCssClass:"ff-multi-checkbox"})}catch(e){}break;case"multipicklist-checkbox-vertical":$(e).SelectToRadio("destroy"),$(e).removeClass("custom-select-offscreen"),$(e).prev().remove(),"disabled"==$(e).attr("disabled")||t?$(e).SelectToRadio({controlType:"ff-ext-checkbox",alignment:"vertical",readonly:!0}):$(e).SelectToRadio({controlType:"ff-ext-checkbox",alignment:"vertical"});break;case"multipicklist-checkbox-horizontal":$(e).SelectToRadio("destroy"),$(e).removeClass("custom-select-offscreen"),$(e).prev().remove(),"disabled"==$(e).attr("disabled")||t?$(e).SelectToRadio({controlType:"ff-ext-checkbox",alignment:"horizontal",readonly:!0}):$(e).SelectToRadio({controlType:"ff-ext-checkbox",alignment:"horizontal"});break;case"integer-starrating":var a=$(e).attr("data-flex-min"),i=$(e).attr("data-flex-max"),r=$(e).attr("data-flex-minlabel"),n=$(e).attr("data-flex-maxlabel");$(e).ffrating("destroy"),""!=$(e).val()&&void 0!=$(e).val()&&$(e).val(Math.round($(e).val()));var f=$(e).attr("readonly");$(e).attr("data-flex-min",a),$(e).attr("data-flex-max",i),$(e).attr("data-flex-minlabel",r),$(e).attr("data-flex-maxlabel",n),null==$(e).attr("onchange")?$(e).ffrating("show",{readonly:f,showSelectedRating:!0}):$(e).ffrating("show",{readonly:f,showSelectedRating:!0,onSelect:function(t,a){$(e).trigger("change")}});break;case"integer-npsrating":a=$(e).attr("data-flex-min");var d=$(e).attr("data-flex-middle"),s=(i=$(e).attr("data-flex-max"),r=$(e).attr("data-flex-minlabel"),$(e).attr("data-flex-middlelabel"));n=$(e).attr("data-flex-maxlabel");$(e).ffrating("destroy"),""!=$(e).val()&&void 0!=$(e).val()&&$(e).val(Math.round($(e).val()));f=$(e).attr("readonly");$(e).attr("data-flex-min",a),$(e).attr("data-flex-middle",d),$(e).attr("data-flex-max",i),$(e).attr("data-flex-minlabel",r),$(e).attr("data-flex-middlelabel",s),$(e).attr("data-flex-maxlabel",n),null==$(e).attr("onchange")?$(e).ffrating("show",{readonly:f,isStar:!1}):$(e).ffrating("show",{readonly:f,isStar:!1,onSelect:function(t,a){$(e).trigger("change")}})}}function safeInt(e,t){return isNaN(parseInt(e))?t:parseInt(e)}function LoadCSS(e){var t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("type","text/css"),t.setAttribute("href",e),document.getElementsByTagName("head")[0].appendChild(t)}
//# sourceMappingURL=core.min.js.map